\documentclass[onecolumn, draftclsnofoot,10pt, compsoc]{IEEEtran}
\usepackage{graphicx}
\usepackage{url}
\usepackage{setspace}

\usepackage{geometry}
\geometry{textheight=9.5in, textwidth=7in}

% 1. Fill in these details
\def \CapstoneTeamName{			HART CS Capstone}
\def \CapstoneTeamNumber{		11}
\def \GroupMemberOne{			Rick Menzel}
\def \GroupMemberTwo{			Matthew Forsland}
\def \CapstoneProjectName{		High Altitude Rocketry Project}
\def \CapstoneSponsorCompany{		OSU American Institute of Aeronautics and Astronautics (AIAA)}
\def \CapstoneSponsorPerson{		Dr. Nancy Squires}

% 2. Uncomment the appropriate line below so that the document type works
\def \DocType{			%Problem Statement
				%Requirements Document
				%Technology Review
				Design Document
				%Progress Report
				}
			
\newcommand{\NameSigPair}[1]{\par
\makebox[2.75in][r]{#1} \hfil 	\makebox[3.25in]{\makebox[2.25in]{\hrulefill} \hfill		\makebox[.75in]{\hrulefill}}
\par\vspace{-12pt} \textit{\tiny\noindent
\makebox[2.75in]{} \hfil		\makebox[3.25in]{\makebox[2.25in][r]{Signature} \hfill	\makebox[.75in][r]{Date}}}}
% 3. If the document is not to be signed, uncomment the RENEWcommand below
%\renewcommand{\NameSigPair}[1]{#1}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\begin{titlepage}
    \pagenumbering{gobble}
    \begin{singlespace}
    	\includegraphics[height=4cm]{coe_v_spot1}
        \hfill 
        % 4. If you have a logo, use this includegraphics command to put it on the coversheet.
        %\includegraphics[height=4cm]{CompanyLogo}   
        \par\vspace{.2in}
        \centering
        \scshape{
            \huge CS Capstone \DocType \par
            {\large\today}\par
            \vspace{.5in}
            \textbf{\Huge\CapstoneProjectName}\par
            \vfill
            {\large Prepared for}\par
            \Huge \CapstoneSponsorCompany\par
            \vspace{5pt}
            {\Large\NameSigPair{\CapstoneSponsorPerson}\par}
            {\large Prepared by }\par
            Group\CapstoneTeamNumber\par
            % 5. comment out the line below this one if you do not wish to name your team
            \CapstoneTeamName\par 
            \vspace{5pt}
            {\Large
                \NameSigPair{\GroupMemberOne}\par
                \NameSigPair{\GroupMemberTwo}\par
            }
            \vspace{20pt}
        }
        \begin{abstract}
        % 6. Fill in your abstract
		This document is intended to outline the design and system architecture for the OSU High Altitude Rocketry team's avionics and telemetry-tracking system.
		It details the functionality of the final system as well as the design decisions made in the interest of providing this functionality.
        	%This allows you to have sensible diffs when you use \LaTeX with version control, as well as giving a quick visual test to see if sentences are too short/long.
        	%If you have questions, ``The Not So Short Guide to LaTeX'' is a great resource (\url{https://tobi.oetiker.ch/lshort/lshort.pdf})
        \end{abstract}     
    \end{singlespace}
\end{titlepage}
\newpage
\pagenumbering{arabic}
\tableofcontents
% 7. uncomment this (if applicable). Consider adding a page break.
%\listoffigures
%\listoftables
\clearpage

% 8. now you write!
\section{Introduction}

\subsection{Scope}
The system described herein is intended to provide ground-level near real-time location and status information during launches of the OSU AIAA High Altitude Rocketry Team's rocket.
The goal of providing this information is two-fold: firstly, to facilitate timely recovery of both rocket stages post-flight; secondly, to allow the ground team to monitor the flight, most notably the altitude.

\subsection{Purpose}
This Design Document serves as an overview of how the final avionics system shall be designed and implemented.
To this end, this document will outline the various requirements of the final system, as well as detail the specific design and architecture designs made to fulfill these requirements.

\subsection{Intended Audience}
This document is intended for the several technical stakeholders in the 2018-2019 OSU AIAA High Altitude Rocketry team.
It is to be used as a road-map for the HART CS capstone team (hereafter referred to as the "development team") during the coming implementation of the ultimate system.
Finally, the Design Document is intended to serve as the document-of-reference for all stakeholders in the event of later conflict between the final system and its stated requirements.

\subsection{Conformance}
As written, this document conforms with the requirements and specifications requested by the project client and later enumerated by the development team as of November 24th, 2018.
As of the time of this writing, both client and development team have agreed upon the scope of the intended system.
Records to this effect are maintained by the development team.
Further information regarding the agreed upon project requirements and specifications may be located in the Requirements Document.

\subsection{Reference Material}

\subsection{Definitions and Acronyms}
\begin{itemize}
	\item \textbf{AIAA:}
		American Institute of Aeronautics and Astronautics.
	\item \textbf{Avionics:}
	
	\item \textbf{Back-End:}
	
	\item \textbf{Ground Station:}
	
	\item \textbf{ECE:}
		Electrical and Computer Engineering
	\item \textbf{Front-End:}
	
	\item \textbf{HART:}
		High Altitude Rocketry Team.
	\item \textbf{OSU:}
		Oregon State University.
	\item \textbf{USC:}
		University of Southern California.
\end{itemize}
\newpage

%-----------------------------------------------------------

\section{System Overview}
The OSU chapter of the AIAA is seeking to break the current collegiate high-altitude record for a student-built rocket.
The current altitude record, set by a team from USC, is 144,000 feet.
This effort will build on projects from previous years (2016-2017, 2017-2018) and is part of a long-term effort to win the University Space Race, a challenge to launch a student-built rocket to an altitude of 100 kilometers.
To this end, HART will design and assemble a 2-stage solid-rocket motor, to be launched June 2019 at the Spaceport America Cup in New Mexico. 

Amateur high-powered rockets flying in excess of 5000 feet are no longer visible to the naked human eye. 
Depending on the weather, time of day, and location of the launch pad relative to the observer, the rocket may potentially be obscured by the sun or cloud cover, further complicating visual tracking efforts. 
As such, HART's rocket must broadcast telemetry containing, at a minimum, some measure of altitude and position.
This telemetry must then be received, interpreted and finally displayed to personnel on the ground by the avionics system.
Because HART is a multi-disciplinary effort, the avionics system is divided among two sub-teams.
The ECE sub-team has responsibility for the broadcast of telemetry data, as well as the avionics hardware which will be integrated into the rocket.
The CS sub-team is then responsible for receiving this telemetry, processing the data into a usable form, and displaying relevant information in an easily digestible manner.
To achieve this functionality, the CS portion of the avionics system will be further divided into a back-end and a front-end.
  
%some stuff about the back-end

Once received data is processed by the front-end, it is passed to the front-end.
The front-end has two broad functions.
Firstly, it is the front-end which is responsible to displaying the position of both rocket stages during and immediately following flight.
This includes both near real-time positions and a persistent flight path derived from positions previously reported.
This location display is primarily intended as an aid to the ultimate recovery of the rocket stages post-flight, but also serves the ancillary goal of monitoring for any emergent in-flight conditions which effect the flight path of the rocket.
Secondly, the front-end is responsible for displaying a full range of received and derived telemetry data to users.
This data includes the rocketâ€™s altitude, vertical and horizontal velocity, acceleration, barometric pressure and the thrust achieved from the rocket motors.
Both of these functions will be implemented via a web-based interface hosted off of the ground station and accessible to any team member with a web-enabled device via connection to the ground station's integrated router. 

%-----------------------------------------------------------

\section{System Architecture}
This section provides a conceptual model for the ultimate avionics system, and describes in detail the various components alongside their respective implementations.
It first establishes the Architectural Design by defining the relationship of each component with respect the the overall system.
After this, the Decomposition Description breaks down and describes the actual features intended to be present in the final solution.
Finally, the Design Rationale sub-section elucidates the general reasoning which influenced the above-described design.

\subsection{Architectural Design}

%\begin{figure}[H]
%\fbox{\includegraphics[width=\textwidth]{graphics/archFlow.eps}}
%\caption{Basic Architecture}
%\end{figure}

The application shall consist of a single web page (hereafter referred to as the "main page") which will allow users to monitor telemetry and location for both rocket stages in near real-time both during and immediately proceeding flight.
This page will feature two sections.
The first section is responsible for displaying the current location(s) and flight path of the rocket 3-dimensionally.

%some stuff about the back-end

%-----------------------------------------------------------

\section{Avionics System Perspective}


%-----------------------------------------------------------

\section{Component Design}

%back-end stuff goes here






\subsection{Data Processing}
Given that this year's HART effort builds on work done in the two previous school years, the processing of data will be a significant first step. 
There have been large amounts of unprocessed telemetry data collected from previous launches which offers a chance to analyze and subsequently improve upon earlier performance. 
In particular, there is a significant amount of data on the in-flight thrust characteristics of these earlier rockets. 
The processing and subsequent analysis of this data is central to HART's ability to improve upon OSU's existing launch capability not only in terms of altitude but also in reliability (which was an issue during last year's launch).

Furthermore, the current HART team anticipates making several test launches prior to the ultimate competition launch at Spaceport America, including at least one full scale, full altitude test. 
The ability to process and analyze data from these tests will allow us to work toward the final airframe and thruster design as well as to detect and address potential issues along the way. 
This ties into the second category: telemetry.

\subsection{Telemetry}
Capturing accurate and reliable in-flight telemetry data is perhaps the most important problem in this project for several reasons. 
Firstly, given that this effort is fundamentally a competition, both in terms of this year's attempt to best the current altitude record and the ultimate goal of winning the University Space Race, the ability to accurately monitor and record the altitude reached by our rocket is absolutely mission critical. 
Secondly, after speaking to Dr. Squires, HART's faculty sponsor, it appears that last year's team was less than successful in capturing telemetry, a shortcoming which threatened the progress made by that team (as incomplete/inaccurate data is of questionable use). 
As the ultimate goal of this project is to achieve a minimum altitude of 144,000 feet and the rocket is, of course, unmanned, capturing telemetry is the only way we will be able to determine success or failure.

\subsection{Visualization of In-Flight Data}
Finally, while perhaps less mission critical than telemetry capture, the ability to visualize certain in-flight characteristics of our rocket has several important implications for our project.
As the final rocket will be moving at high speeds well beyond the range of unaided human vision, this will be the only way the team on the ground will be able to monitor the rocket during flight. 
The need for this becomes apparent when one understands that a successful flight comprises several critical stages including second stage ignition, expenditure of fuel stages, stage separation and deployment of arresting devices (parachutes). 
Failures at any of these stages have the potential to demand action on the part of the ground team up to and including aborts. 
Additionally, the ability to visualize the flight path of the rocket both complements the gathering of telemetry and serves to facilitate the timely recovery of components post-flight. 

\section{Proposed Solution}

After speaking with Dr. Squires and the ME/ECE capstone teams, our solution will likely come in the form of two distinct products. 
The first will be a series of scripts which will allow for the processing of both past and future telemetry data in a way which allows us to derive lessons learned from this data. 
The second product will be software to actually capture, record and visualize in-flight data from our rockets and test platforms. 
This latter part is both the more important and more complicated challenge for our sub-team.

Currently the plan for gathering this telemetry data is for the ECE team to design and produce a printed circuit board (PCB) to be integrated into the rocket body. 
This will connect to various pieces of sensing equipment, including a global positioning system (GPS) transceiver, barometer, altimeter and gyroscope. 
The CS sub-team will then write software to allow these avionics systems to communicate with a ground station, interpret the data and finally display it in a meaningful way.
Live telemetry will be input into a Kalman filter to account for inaccuracy in instrument data and sudden spikes, such as will occur in barometric altitude readings when a shockwave forms around the rocket when it exceeds Mach 1.  
At a minimum this will include a real-time graphical display including a 3-Dimensional terrain model and representations of the position of both rocket stages and a readout of current altitude and other flight characteristics.

This will allow the ground team to maintain moment-by-moment awareness of these rocket components during both the flight and recovery stages by providing detailed information on the flight path and touchdown locations.
As the rocket may only achieve peak altitude briefly, it will be important to store and make accessible the highest altitude obtained over the flight time. 
Additionally, Dr. Squires has expressed some interest in a system capable of providing audible cues at certain altitude intervals.
If implemented, this would accompany a series of graphs plotting the rocketâ€™s altitude, vertical and horizontal velocity, acceleration, barometric pressure and thrust achieved from the rocket motors.
The position visualization system will likely take the form of a representation of both the ground and target planes onto which will be displayed a representation of the rocket stages and some representation of its flight path (possibly both a projection and a history).

\section{Performance Metrics}

The above proposed solution naturally implies several key performance metrics.
The first (that is, earliest) will be the successful processing of existing data into a meaningful format that is of use to the ME team, especially with thrust data.
Second will be development of a temporary substitute protocol for the initial development of functions for receiving and interpreting telemetry data until the ECE team completes work and design of the final protocols can commence.
The existing data from previous years will be useful in validating the progress made during this preliminary stage.
Third will be the successful component level and integrated testing of the avionics software systems for telemetry and subsequent visualization. 
These tests will likely occur in several stages as the airframe matures, ultimately culminating in a fully functional system to be used in a full scale, full altitude test flight in April or May of 2019.
By this point in the project, the software should be fully functional (i.e. a working prototype) at a minimum, if not nearly feature-complete.
This ability to test our systems prior to the final launch in June should allow at least a month for any necessary debugging or improvement needed.
Finally, and most importantly, will be the successful capture of complete and accurate telemetry during the final June launch at Spaceport America, as well as the successful visualization of this data.
In this sense, the word complete is meant to denote sufficient data capture so as to provide complete certainty of the actual in-flight characteristics of the rocket (as some degree of packet loss is to be expected).
The subsequent visualization of this data should be similarly accurate and further capable of operating properly despite an acceptable degree of packet or signal loss.

\end{document}